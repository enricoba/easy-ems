<button class="btn btn-default" onclick="nanobar.go(30)">nanobar.go(30)</button>
<button class="btn btn-default" onclick="nanobar.go(100)">nanobar.go(100)</button>

{% if global_data.session == 'None' %}
    <h1 class="text-center">Welcome to EEMS</h1>
    <h4 class="text-center">Easy Energy Monitoring System</h4>
    <div class="form-group" style="margin-top: 50px">
        <form role="form" method="post" action="{{ url_for('index') }}" onsubmit="return session_start(this)">
            <select title="dropdown" class="form-control" name="session-load" style="text-align: center" id="drp1" onchange="dropdown_check()">
                {% for profile in profiles %}
                <option>{{ profile }}</option>
                {% endfor %}
            </select>
            <input id="inp1" type="text" name="session-input" class="form-control" placeholder="project name" style="text-align: center; margin-top: 10px">
            <!-- more buttons -->
            <ul class="pager">
                <li><button name="session-start" type="submit" style="width: 100px" class="btn btn-success">Start</button></li>
                <!--<li><button type="submit" name="session-load" style="width: 100px" class="btn btn-primary">Load</button></li>-->
            </ul>
        </form>
    </div>
{% else %}
    <div class="form-group">
        <form role="form" name="logout" method="post" action="{{ url_for('index') }}" onsubmit="return session_logout()">
           <div class="alert alert-info">
               <strong>You are in a session!</strong><br>You have successfully logged into session: <strong>{{ global_data.session }}</strong>. Before adding a new session or loading an existing one, please logout.
               <ul class="pager">
                   <li><button onclick="click_button()" type="button" style="width: 100px" class="btn  btn-default">Logout</button></li>
                   <li><button name="sessionLogout" type="submit" style="visibility: hidden"></button></li>
               </ul>
           </div>
        </form>
    </div>
{% endif %}

<script>
    function dropdown_check() {
        var value = document.getElementById("drp1").value;
        if (value == "new") {
            document.getElementById("inp1").style.visibility = "visible";
        } else {
            document.getElementById("inp1").style.visibility = "hidden";
        }
    }

    function session_logout() {
        return true;
    }

    function click_button() {
        swal({
            title: "Warning!",
            text: "If you press Logout, you will be logged out ... no " +
            "seriously, monitoring will stop. However, you can still access " +
            "your monitored data afterwards.",
            type: "warning",
            showCancelButton: true,
            closeOnConfirm: true,
            confirmButtonText: "Logout",
            confirmButtonColor: "#ec6c62"
        }, function() {
            document.logout.sessionLogout.click();
        });
    }

    function session_start(form) {
        var input_value = form["inp1"].value;
        var len = parseInt("{{ len }}");
        if (document.getElementById("inp1").style.visibility == "hidden") {
            return true;
        } else if (input_value == null || input_value == "") {
            sweetAlert({
                title: "Oops!",
                text: "Please define a project name.",
                type: "error"
            });
            return false;
        } else {
            var profiles = {{ profiles|safe }};
            for (i = 0; i < len; i++) {
                if (input_value == profiles[i]) {
                  sweetAlert({
                    title: "We are sorry!",
                    text: "This project already exists, please pick another name.",
                    type: "error"
                });
                return false;
                }
            }
        }
    }
</script>
